<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>点击加载更多（本地版）</title>
	<script src="js/jquery.min.js"></script>
	<style>
		*{margin:0;padding:0;box-sizing:border-box;}
		.clearfix:after{content:"";line-height: 0;height: 0;display:block;visibility:hidden;clear:both;}
		.wrap{width: 800px;margin:50px auto;background-color:#f1f1f1;overflow: hidden;}
		.storage{display:none;}
		.list{width: 100%;padding-top:20px;}
		.list li{float:left;width: 23%;padding:1.6%;list-style: none;border:1px solid green;margin-left:1.6%;margin-bottom:20px;}
		.list li:nth-of-type(4n){margin-right:1.6%;}
		.list li a {display:block;text-align:center;}
		.list li a img{max-width: 100%;}
		.wrap p{width: 90%;margin:20px auto;height: 40px;line-height: 40px;text-align: center;background:-webkit-linear-gradient(270deg,#f40,yellowgreen);cursor:pointer;color:white;}
	</style>
</head>
<body>
	<div class="wrap">
		<div class="storage">
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/1.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/2.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/3.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/4.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/5.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/6.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/7.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/8.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/9.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/10.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/11.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/12.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/13.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/14.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/15.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/16.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/17.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/18.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/19.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/20.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/21.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/22.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/23.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/24.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/25.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/26.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/27.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/28.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/29.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/30.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/31.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/32.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/33.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/34.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/35.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/36.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/37.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/38.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/39.png"></a></li>
			<li><a href="javascript:;"><img src="img/placehold.gif" alt="" data-src="img/photo/40.png"></a></li>	
		</div>
		<ul class="list clearfix">
		</ul>
		<p class="dialog">点击加载更多</p>
	</div>
	<script>
		$(document).ready(function(){
			var num=8;//默认显示个数
			var pernum=4;//每次加载个数
			var arr=[];//存储li
			init();
			function init(){
				for(var i=0;i<$(".storage li").length;i++){
					arr.push($(".storage li").eq(i));
				}
				for(var i=0;i<num;i++){
					arr[i].appendTo(".list");
				}
				setTimeout(function(){
					$(".list li img").each(function(i,item){
						$(this).attr("src",$(this).attr("data-src"));
					})
					$(".storage").html("");
				},450)
			}
			$(".dialog").on("click",loadMore);
			function loadMore(){
				var size=$(".list li").size();
				if(size==36){
					$(".dialog").css("display","none");
				}
				for(var i=size;i<size+4;i++){
					arr[i].appendTo(".list");
					setTimeout(function(){
						$(".list li img").each(function(i,item){
							$(this).attr("src",$(this).attr("data-src"));
						})
					},300)
				}
			}
		})
	</script>
</body>
</html>